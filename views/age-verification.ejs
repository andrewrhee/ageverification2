<% layout('layout') -%>
  <div class="container" ng-app="age-verificationApp" ng-controller="ageVerificationController">
    <!---->
    <div>Hello {{test}}</div>
    <div class="alert info"><i class="fa fa-exclamation-circle"></i><strong>This is a demo store for Age Verification. </strong><span>Enter some information below and then click the order button to see Age Verification in action!</span></div>
    <!---->
    <!---->
    <!---->
    <form name="demofr" role="form" novalidate="novalidate" class="ng-pristine ng-invalid ng-invalid-required">
      <div class="col-md-8">
        <div class="group">
          <div class="group-heading">Billing Details</div>
          <div class="group-contents">
            <div class="input">
              <div class="label">Name:</div>
              <input type="text" name="first_name" ng-model="info.lastname" placeholder="First" required="required" id="checkout-firstname-field" class="md ng-pristine ng-empty ng-invalid ng-invalid-required ng-touched" style="background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAfBJREFUWAntVk1OwkAUZkoDKza4Utm61iP0AqyIDXahN2BjwiHYGU+gizap4QDuegWN7lyCbMSlCQjU7yO0TOlAi6GwgJc0fT/fzPfmzet0crmD7HsFBAvQbrcrw+Gw5fu+AfOYvgylJ4TwCoVCs1ardYTruqfj8fgV5OUMSVVT93VdP9dAzpVvm5wJHZFbg2LQ2pEYOlZ/oiDvwNcsFoseY4PBwMCrhaeCJyKWZU37KOJcYdi27QdhcuuBIb073BvTNL8ln4NeeR6NRi/wxZKQcGurQs5oNhqLshzVTMBewW/LMU3TTNlO0ieTiStjYhUIyi6DAp0xbEdgTt+LE0aCKQw24U4llsCs4ZRJrYopB6RwqnpA1YQ5NGFZ1YQ41Z5S8IQQdP5laEBRJcD4Vj5DEsW2gE6s6g3d/YP/g+BDnT7GNi2qCjTwGd6riBzHaaCEd3Js01vwCPIbmWBRx1nwAN/1ov+/drgFWIlfKpVukyYihtgkXNp4mABK+1GtVr+SBhJDbBIubVw+Cd/TDgKO2DPiN3YUo6y/nDCNEIsqTKH1en2tcwA9FKEItyDi3aIh8Gl1sRrVnSDzNFDJT1bAy5xpOYGn5fP5JuL95ZjMIn1ya7j5dPGfv0A5eAnpZUY3n5jXcoec5J67D9q+VuAPM47D3XaSeL4AAAAASUVORK5CYII=&quot;); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%; cursor: pointer;">
              <input type="text" name="last_name" ng-model="info.firstname" placeholder="Last" required="required" class="md ng-pristine ng-untouched ng-empty ng-invalid ng-invalid-required">
            </div>
            <div class="input">
              <div class="label">Address:</div>
              <input type="text" name="address_1" ng-model="info.address1" placeholder="Street address" required="required" class="lg ng-pristine ng-untouched ng-empty ng-invalid ng-invalid-required">
              <div class="multiline">
                <input type="text" name="address_2" ng-model="info.address2" placeholder="Apartment, suite, unit, etc. (optional)" class="lg ng-pristine ng-untouched ng-valid ng-empty">
              </div>
            </div>
            <div class="input">
              <div class="label">Country:</div>
              <select name="country" ng-model="info.country" required="required" class="md ng-pristine ng-untouched ng-valid ng-not-empty ng-valid-required">
                <option label="United States" value="string:United States" selected="selected">United States</option>
                <option label="Canada" value="string:Canada">Canada</option>
                <option label="United Kingdom" value="string:United Kingdom">United Kingdom</option>
                <option label="Afghanistan" value="string:Afghanistan">Afghanistan</option>
                <option label="Aland Islands" value="string:Aland Islands">Aland Islands</option>
                <option label="Albania" value="string:Albania">Albania</option>
                <option label="Algeria" value="string:Algeria">Algeria</option>
                <option label="American Samoa" value="string:American Samoa">American Samoa</option>
                <option label="Andorra" value="string:Andorra">Andorra</option>
                <option label="Angola" value="string:Angola">Angola</option>
                <option label="Anguilla" value="string:Anguilla">Anguilla</option>
                <option label="Antarctica" value="string:Antarctica">Antarctica</option>
                <option label="Antigua and Barbuda" value="string:Antigua and Barbuda">Antigua and Barbuda</option>
                <option label="Argentina" value="string:Argentina">Argentina</option>
                <option label="Armenia" value="string:Armenia">Armenia</option>
                <option label="Aruba" value="string:Aruba">Aruba</option>
                <option label="Australia" value="string:Australia">Australia</option>
                <option label="Austria" value="string:Austria">Austria</option>
                <option label="Azerbaijan" value="string:Azerbaijan">Azerbaijan</option>
                <option label="Bahamas" value="string:Bahamas">Bahamas</option>
                <option label="Bahrain" value="string:Bahrain">Bahrain</option>
                <option label="Bangladesh" value="string:Bangladesh">Bangladesh</option>
                <option label="Barbados" value="string:Barbados">Barbados</option>
                <option label="Belarus" value="string:Belarus">Belarus</option>
                <option label="Belgium" value="string:Belgium">Belgium</option>
                <option label="Belize" value="string:Belize">Belize</option>
                <option label="Benin" value="string:Benin">Benin</option>
                <option label="Bermuda" value="string:Bermuda">Bermuda</option>
                <option label="Bhutan" value="string:Bhutan">Bhutan</option>
                <option label="Bolivia" value="string:Bolivia">Bolivia</option>
                <option label="Bonaire" value="string:Bonaire">Bonaire</option>
                <option label="Bosnia and Herzegovina" value="string:Bosnia and Herzegovina">Bosnia and Herzegovina</option>
                <option label="Botswana" value="string:Botswana">Botswana</option>
                <option label="Bouvet Island" value="string:Bouvet Island">Bouvet Island</option>
                <option label="Brazil" value="string:Brazil">Brazil</option>
                <option label="British Indian Ocean Territory" value="string:British Indian Ocean Territory">British Indian Ocean Territory</option>
                <option label="British Virgin Islands" value="string:British Virgin Islands">British Virgin Islands</option>
                <option label="Brunei" value="string:Brunei">Brunei</option>
                <option label="Bulgaria" value="string:Bulgaria">Bulgaria</option>
                <option label="Burkina Faso" value="string:Burkina Faso">Burkina Faso</option>
                <option label="Burundi" value="string:Burundi">Burundi</option>
                <option label="Cambodia" value="string:Cambodia">Cambodia</option>
                <option label="Cameroon" value="string:Cameroon">Cameroon</option>
                <option label="Cape Verde" value="string:Cape Verde">Cape Verde</option>
                <option label="Cayman Islands" value="string:Cayman Islands">Cayman Islands</option>
                <option label="Central African Republic" value="string:Central African Republic">Central African Republic</option>
                <option label="Chad" value="string:Chad">Chad</option>
                <option label="Chile" value="string:Chile">Chile</option>
                <option label="China" value="string:China">China</option>
                <option label="Christmas Island" value="string:Christmas Island">Christmas Island</option>
                <option label="Cocos Islands" value="string:Cocos Islands">Cocos Islands</option>
                <option label="Colombia" value="string:Colombia">Colombia</option>
                <option label="Comoros" value="string:Comoros">Comoros</option>
                <option label="Cook Islands" value="string:Cook Islands">Cook Islands</option>
                <option label="Costa Rica" value="string:Costa Rica">Costa Rica</option>
                <option label="Croatia" value="string:Croatia">Croatia</option>
                <option label="Cuba" value="string:Cuba">Cuba</option>
                <option label="Curacao" value="string:Curacao">Curacao</option>
                <option label="Cyprus" value="string:Cyprus">Cyprus</option>
                <option label="Czech Republic" value="string:Czech Republic">Czech Republic</option>
                <option label="Democratic Republic of the Congo" value="string:Democratic Republic of the Congo">Democratic Republic of the Congo</option>
                <option label="Denmark" value="string:Denmark">Denmark</option>
                <option label="Djibouti" value="string:Djibouti">Djibouti</option>
                <option label="Dominica" value="string:Dominica">Dominica</option>
                <option label="Dominican Republic" value="string:Dominican Republic">Dominican Republic</option>
                <option label="East Timor" value="string:East Timor">East Timor</option>
                <option label="Ecuador" value="string:Ecuador">Ecuador</option>
                <option label="Egypt" value="string:Egypt">Egypt</option>
                <option label="El Salvador" value="string:El Salvador">El Salvador</option>
                <option label="Equatorial Guinea" value="string:Equatorial Guinea">Equatorial Guinea</option>
                <option label="Eritrea" value="string:Eritrea">Eritrea</option>
                <option label="Estonia" value="string:Estonia">Estonia</option>
                <option label="Ethiopia" value="string:Ethiopia">Ethiopia</option>
                <option label="Falkland Islands" value="string:Falkland Islands">Falkland Islands</option>
                <option label="Faroe Islands" value="string:Faroe Islands">Faroe Islands</option>
                <option label="Fiji" value="string:Fiji">Fiji</option>
                <option label="Finland" value="string:Finland">Finland</option>
                <option label="France" value="string:France">France</option>
                <option label="French Guiana" value="string:French Guiana">French Guiana</option>
                <option label="French Polynesia" value="string:French Polynesia">French Polynesia</option>
                <option label="French Southern Territories" value="string:French Southern Territories">French Southern Territories</option>
                <option label="Gabon" value="string:Gabon">Gabon</option>
                <option label="Gambia" value="string:Gambia">Gambia</option>
                <option label="Georgia" value="string:Georgia">Georgia</option>
                <option label="Germany" value="string:Germany">Germany</option>
                <option label="Ghana" value="string:Ghana">Ghana</option>
                <option label="Gibraltar" value="string:Gibraltar">Gibraltar</option>
                <option label="Greece" value="string:Greece">Greece</option>
                <option label="Greenland" value="string:Greenland">Greenland</option>
                <option label="Grenada" value="string:Grenada">Grenada</option>
                <option label="Guadeloupe" value="string:Guadeloupe">Guadeloupe</option>
                <option label="Guam" value="string:Guam">Guam</option>
                <option label="Guatemala" value="string:Guatemala">Guatemala</option>
                <option label="Guernsey" value="string:Guernsey">Guernsey</option>
                <option label="Guinea" value="string:Guinea">Guinea</option>
                <option label="Guinea-Bissau" value="string:Guinea-Bissau">Guinea-Bissau</option>
                <option label="Guyana" value="string:Guyana">Guyana</option>
                <option label="Haiti" value="string:Haiti">Haiti</option>
                <option label="Honduras" value="string:Honduras">Honduras</option>
                <option label="Hong Kong" value="string:Hong Kong">Hong Kong</option>
                <option label="Hungary" value="string:Hungary">Hungary</option>
                <option label="Iceland" value="string:Iceland">Iceland</option>
                <option label="India" value="string:India">India</option>
                <option label="Indonesia" value="string:Indonesia">Indonesia</option>
                <option label="Iran" value="string:Iran">Iran</option>
                <option label="Iraq" value="string:Iraq">Iraq</option>
                <option label="Ireland" value="string:Ireland">Ireland</option>
                <option label="Isle of Man" value="string:Isle of Man">Isle of Man</option>
                <option label="Israel" value="string:Israel">Israel</option>
                <option label="Italy" value="string:Italy">Italy</option>
                <option label="Ivory Coast" value="string:Ivory Coast">Ivory Coast</option>
                <option label="Jamaica" value="string:Jamaica">Jamaica</option>
                <option label="Japan" value="string:Japan">Japan</option>
                <option label="Jersey" value="string:Jersey">Jersey</option>
                <option label="Jordan" value="string:Jordan">Jordan</option>
                <option label="Kazakhstan" value="string:Kazakhstan">Kazakhstan</option>
                <option label="Kenya" value="string:Kenya">Kenya</option>
                <option label="Kiribati" value="string:Kiribati">Kiribati</option>
                <option label="Kosovo" value="string:Kosovo">Kosovo</option>
                <option label="Kuwait" value="string:Kuwait">Kuwait</option>
                <option label="Kyrgyzstan" value="string:Kyrgyzstan">Kyrgyzstan</option>
                <option label="Laos" value="string:Laos">Laos</option>
                <option label="Latvia" value="string:Latvia">Latvia</option>
                <option label="Lebanon" value="string:Lebanon">Lebanon</option>
                <option label="Lesotho" value="string:Lesotho">Lesotho</option>
                <option label="Liberia" value="string:Liberia">Liberia</option>
                <option label="Libya" value="string:Libya">Libya</option>
                <option label="Liechtenstein" value="string:Liechtenstein">Liechtenstein</option>
                <option label="Lithuania" value="string:Lithuania">Lithuania</option>
                <option label="Luxembourg" value="string:Luxembourg">Luxembourg</option>
                <option label="Macao" value="string:Macao">Macao</option>
                <option label="Macedonia" value="string:Macedonia">Macedonia</option>
                <option label="Madagascar" value="string:Madagascar">Madagascar</option>
                <option label="Malawi" value="string:Malawi">Malawi</option>
                <option label="Malaysia" value="string:Malaysia">Malaysia</option>
                <option label="Maldives" value="string:Maldives">Maldives</option>
                <option label="Mali" value="string:Mali">Mali</option>
                <option label="Malta" value="string:Malta">Malta</option>
                <option label="Marshall Islands" value="string:Marshall Islands">Marshall Islands</option>
                <option label="Martinique" value="string:Martinique">Martinique</option>
                <option label="Mauritania" value="string:Mauritania">Mauritania</option>
                <option label="Mauritius" value="string:Mauritius">Mauritius</option>
                <option label="Mayotte" value="string:Mayotte">Mayotte</option>
                <option label="Mexico" value="string:Mexico">Mexico</option>
                <option label="Micronesia" value="string:Micronesia">Micronesia</option>
                <option label="Moldova" value="string:Moldova">Moldova</option>
                <option label="Monaco" value="string:Monaco">Monaco</option>
                <option label="Mongolia" value="string:Mongolia">Mongolia</option>
                <option label="Montenegro" value="string:Montenegro">Montenegro</option>
                <option label="Montserrat" value="string:Montserrat">Montserrat</option>
                <option label="Morocco" value="string:Morocco">Morocco</option>
                <option label="Mozambique" value="string:Mozambique">Mozambique</option>
                <option label="Myanmar" value="string:Myanmar">Myanmar</option>
                <option label="Namibia" value="string:Namibia">Namibia</option>
                <option label="Nauru" value="string:Nauru">Nauru</option>
                <option label="Nepal" value="string:Nepal">Nepal</option>
                <option label="Netherlands" value="string:Netherlands">Netherlands</option>
                <option label="New Caledonia" value="string:New Caledonia">New Caledonia</option>
                <option label="New Zealand" value="string:New Zealand">New Zealand</option>
                <option label="Nicaragua" value="string:Nicaragua">Nicaragua</option>
                <option label="Niger" value="string:Niger">Niger</option>
                <option label="Nigeria" value="string:Nigeria">Nigeria</option>
                <option label="Niue" value="string:Niue">Niue</option>
                <option label="Norfolk Island" value="string:Norfolk Island">Norfolk Island</option>
                <option label="North Korea" value="string:North Korea">North Korea</option>
                <option label="Northern Mariana Islands" value="string:Northern Mariana Islands">Northern Mariana Islands</option>
                <option label="Norway" value="string:Norway">Norway</option>
                <option label="Oman" value="string:Oman">Oman</option>
                <option label="Pakistan" value="string:Pakistan">Pakistan</option>
                <option label="Palau" value="string:Palau">Palau</option>
                <option label="Palestinian Territory" value="string:Palestinian Territory">Palestinian Territory</option>
                <option label="Panama" value="string:Panama">Panama</option>
                <option label="Papua New Guinea" value="string:Papua New Guinea">Papua New Guinea</option>
                <option label="Paraguay" value="string:Paraguay">Paraguay</option>
                <option label="Peru" value="string:Peru">Peru</option>
                <option label="Philippines" value="string:Philippines">Philippines</option>
                <option label="Pitcairn" value="string:Pitcairn">Pitcairn</option>
                <option label="Poland" value="string:Poland">Poland</option>
                <option label="Portugal" value="string:Portugal">Portugal</option>
                <option label="Puerto Rico" value="string:Puerto Rico">Puerto Rico</option>
                <option label="Qatar" value="string:Qatar">Qatar</option>
                <option label="Republic of the Congo" value="string:Republic of the Congo">Republic of the Congo</option>
                <option label="Reunion" value="string:Reunion">Reunion</option>
                <option label="Romania" value="string:Romania">Romania</option>
                <option label="Russia" value="string:Russia">Russia</option>
                <option label="Rwanda" value="string:Rwanda">Rwanda</option>
                <option label="Saint Barthelemy" value="string:Saint Barthelemy">Saint Barthelemy</option>
                <option label="Saint Helena" value="string:Saint Helena">Saint Helena</option>
                <option label="Saint Kitts and Nevis" value="string:Saint Kitts and Nevis">Saint Kitts and Nevis</option>
                <option label="Saint Lucia" value="string:Saint Lucia">Saint Lucia</option>
                <option label="Saint Martin" value="string:Saint Martin">Saint Martin</option>
                <option label="Saint Pierre and Miquelon" value="string:Saint Pierre and Miquelon">Saint Pierre and Miquelon</option>
                <option label="Saint Vincent and the Grenadines" value="string:Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option>
                <option label="Samoa" value="string:Samoa">Samoa</option>
                <option label="San Marino" value="string:San Marino">San Marino</option>
                <option label="Sao Tome and Principe" value="string:Sao Tome and Principe">Sao Tome and Principe</option>
                <option label="Saudi Arabia" value="string:Saudi Arabia">Saudi Arabia</option>
                <option label="Senegal" value="string:Senegal">Senegal</option>
                <option label="Serbia" value="string:Serbia">Serbia</option>
                <option label="Seychelles" value="string:Seychelles">Seychelles</option>
                <option label="Sierra Leone" value="string:Sierra Leone">Sierra Leone</option>
                <option label="Singapore" value="string:Singapore">Singapore</option>
                <option label="Sint Maarten" value="string:Sint Maarten">Sint Maarten</option>
                <option label="Slovakia" value="string:Slovakia">Slovakia</option>
                <option label="Slovenia" value="string:Slovenia">Slovenia</option>
                <option label="Solomon Islands" value="string:Solomon Islands">Solomon Islands</option>
                <option label="Somalia" value="string:Somalia">Somalia</option>
                <option label="South Africa" value="string:South Africa">South Africa</option>
                <option label="South Korea" value="string:South Korea">South Korea</option>
                <option label="South Sudan" value="string:South Sudan">South Sudan</option>
                <option label="Spain" value="string:Spain">Spain</option>
                <option label="Sri Lanka" value="string:Sri Lanka">Sri Lanka</option>
                <option label="Sudan" value="string:Sudan">Sudan</option>
                <option label="Suriname" value="string:Suriname">Suriname</option>
                <option label="Svalbard and Jan Mayen" value="string:Svalbard and Jan Mayen">Svalbard and Jan Mayen</option>
                <option label="Swaziland" value="string:Swaziland">Swaziland</option>
                <option label="Sweden" value="string:Sweden">Sweden</option>
                <option label="Switzerland" value="string:Switzerland">Switzerland</option>
                <option label="Syria" value="string:Syria">Syria</option>
                <option label="Taiwan" value="string:Taiwan">Taiwan</option>
                <option label="Tajikistan" value="string:Tajikistan">Tajikistan</option>
                <option label="Tanzania" value="string:Tanzania">Tanzania</option>
                <option label="Thailand" value="string:Thailand">Thailand</option>
                <option label="Togo" value="string:Togo">Togo</option>
                <option label="Tokelau" value="string:Tokelau">Tokelau</option>
                <option label="Tonga" value="string:Tonga">Tonga</option>
                <option label="Trinidad and Tobago" value="string:Trinidad and Tobago">Trinidad and Tobago</option>
                <option label="Tunisia" value="string:Tunisia">Tunisia</option>
                <option label="Turkey" value="string:Turkey">Turkey</option>
                <option label="Turkmenistan" value="string:Turkmenistan">Turkmenistan</option>
                <option label="Turks and Caicos Islands" value="string:Turks and Caicos Islands">Turks and Caicos Islands</option>
                <option label="Tuvalu" value="string:Tuvalu">Tuvalu</option>
                <option label="U.S. Virgin Islands" value="string:U.S. Virgin Islands">U.S. Virgin Islands</option>
                <option label="Uganda" value="string:Uganda">Uganda</option>
                <option label="Ukraine" value="string:Ukraine">Ukraine</option>
                <option label="United Arab Emirates" value="string:United Arab Emirates">United Arab Emirates</option>
                <option label="US Minor Outlying Islands" value="string:US Minor Outlying Islands">US Minor Outlying Islands</option>
                <option label="Uruguay" value="string:Uruguay">Uruguay</option>
                <option label="Uzbekistan" value="string:Uzbekistan">Uzbekistan</option>
                <option label="Vanuatu" value="string:Vanuatu">Vanuatu</option>
                <option label="Vatican" value="string:Vatican">Vatican</option>
                <option label="Venezuela" value="string:Venezuela">Venezuela</option>
                <option label="Vietnam" value="string:Vietnam">Vietnam</option>
                <option label="Wallis and Futuna" value="string:Wallis and Futuna">Wallis and Futuna</option>
                <option label="Western Sahara" value="string:Western Sahara">Western Sahara</option>
                <option label="Yemen" value="string:Yemen">Yemen</option>
                <option label="Zambia" value="string:Zambia">Zambia</option>
                <option label="Zimbabwe" value="string:Zimbabwe">Zimbabwe</option>
              </select>
            </div>
            <div class="input">
              <div class="label">City:</div>
              <input type="text" name="city" ng-model="info.city" required="required" class="md ng-pristine ng-untouched ng-empty ng-invalid ng-invalid-required">
            </div>


            <div class="clearfix"></div>
            <div ng-show="info.country == 'United States'" class="input">
              <div class="label">State:</div>
              <select name="state" ng-options="item.name for item in states track by item.id" ng-model="info.state" class="md ng-pristine ng-untouched ng-valid ng-empty">
                <option value="?" selected="selected"></option>
                <option label="Alabama" value="AL">Alabama</option>
                <option label="Alaska" value="AK">Alaska</option>
                <option label="Arizona" value="AZ">Arizona</option>
                <option label="Arkansas" value="AR">Arkansas</option>
                <option label="California" value="CA">California</option>
                <option label="Colorado" value="CO">Colorado</option>
                <option label="Connecticut" value="CT">Connecticut</option>
                <option label="Delaware" value="DE">Delaware</option>
                <option label="District Of Columbia" value="DC">District Of Columbia</option>
                <option label="Florida" value="FL">Florida</option>
                <option label="Georgia" value="GA">Georgia</option>
                <option label="Guam" value="GU">Guam</option>
                <option label="Hawaii" value="HI">Hawaii</option>
                <option label="Idaho" value="ID">Idaho</option>
                <option label="Illinois" value="IL">Illinois</option>
                <option label="Indiana" value="IN">Indiana</option>
                <option label="Iowa" value="IA">Iowa</option>
                <option label="Kansas" value="KS">Kansas</option>
                <option label="Kentucky" value="KY">Kentucky</option>
                <option label="Louisiana" value="LA">Louisiana</option>
                <option label="Maine" value="ME">Maine</option>
                <option label="Maryland" value="MD">Maryland</option>
                <option label="Massachusetts" value="MA">Massachusetts</option>
                <option label="Michigan" value="MI">Michigan</option>
                <option label="Minnesota" value="MN">Minnesota</option>
                <option label="Mississippi" value="MS">Mississippi</option>
                <option label="Missouri" value="MO">Missouri</option>
                <option label="Montana" value="MT">Montana</option>
                <option label="Nebraska" value="NE">Nebraska</option>
                <option label="Nevada" value="NV">Nevada</option>
                <option label="New Hampshire" value="NH">New Hampshire</option>
                <option label="New Jersey" value="NJ">New Jersey</option>
                <option label="New Mexico" value="NM">New Mexico</option>
                <option label="New York" value="NY">New York</option>
                <option label="North Carolina" value="NC">North Carolina</option>
                <option label="North Dakota" value="ND">North Dakota</option>
                <option label="Ohio" value="OH">Ohio</option>
                <option label="Oklahoma" value="OK">Oklahoma</option>
                <option label="Oregon" value="OR">Oregon</option>
                <option label="Pennsylvania" value="PA">Pennsylvania</option>
                <option label="Puerto Rico" value="PR">Puerto Rico</option>
                <option label="Rhode Island" value="RI">Rhode Island</option>
                <option label="South Carolina" value="SC">South Carolina</option>
                <option label="South Dakota" value="SD">South Dakota</option>
                <option label="Tennessee" value="TN">Tennessee</option>
                <option label="Texas" value="TX">Texas</option>
                <option label="Utah" value="UT">Utah</option>
                <option label="Vermont" value="VT">Vermont</option>
                <option label="Virginia" value="VA">Virginia</option>
                <option label="Washington" value="WA">Washington</option>
                <option label="West Virginia" value="WV">West Virginia</option>
                <option label="Wisconsin" value="WI">Wisconsin</option>
                <option label="Wyoming" value="WY">Wyoming</option>
                <option label="Armed Forces Americas" value="AA">Armed Forces Americas</option>
                <option label="Armed Forces Pacific" value="AP">Armed Forces Pacific</option>
                <option label="Armed Forces Others" value="AE">Armed Forces Others</option>
              </select>
            </div>
            <div class="clearfix"> </div>
            <div class="input">
              <div ng-hide="info.country == 'United States'" class="label ng-hide">Postal Code:</div>
              <input type="text" name="postal_code" ng-model="info.zip" required="required" class="sm ng-pristine ng-untouched ng-empty ng-invalid ng-invalid-required">
            </div>
            <div class="clearfix"></div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div id="order-summary" class="group">
          <div class="group-heading">Order Summary</div>
          <div class="group-contents">
            <div class="order-row"><span>Cart Subtotal</span><span>$0</span></div>
            <div class="order-row"><span>Shipping</span><span>$0</span></div>
            <div class="order-row"><span>Tax</span><span>$0</span></div>
            <div id="total" class="order-row"><span>Total</span><span>$0</span></div>
            <div class="center">
              <!--button(ng-disabled="demofr.$invalid || (info.country == 'United States' && !info.state)").green#checkout-->
              <button id="checkout" data-toggle="modal" data-target="#demo-modal-3" class="btn btn-primary"><span>Verify Age &amp; Complete Order</span></button>
            </div>
          </div>
        </div>
      </div>
    </form>
    <!---->
  </div>
  <form class="modal multi-step" id="demo-modal-3" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title step-1" data-step="1" style="display: none;">Step 1</h4>
          <h4 class="modal-title step-2" data-step="2" style="display: none;">Step 2</h4>
          <h4 class="modal-title step-3" data-step="3" style="display: block;">Step 3</h4>
          <h4 class="modal-title step-4" data-step="4" style="display: block">Final Step</h4>
          <div class="m-progress">
            <div class="m-progress-bar-wrapper">
              <div class="m-progress-bar" style="width: 100%;">
              </div>
            </div>
            <div class="m-progress-stats">
              <span class="m-progress-current">3</span> /
              <span class="m-progress-total">3</span>
            </div>
            <div class="m-progress-complete" style="display: none;">
              Completed
            </div>
          </div>
        </div>
        <div ng-hide="true" class="modal-body step-1" data-step="1">
          <div id="ac-dob" style="display: block;">
            <div class="ac-p">Enter your date of birth:</div>
            <div class="ac-hint"> <span>You must be over the age of  </span><span class="ac-age ac-strong">21</span><span>&nbsp;or the legal age for purchasing these products in your area, whichever is greater.</span></div>
            <select name="dob_month" ng-model="info.dob.month" id="ac-dob-month">
              <option disabled="disabled" selected="selected" value="">Month</option>
              <option value="1">January</option>
              <option value="2">February</option>
              <option value="3">March</option>
              <option value="4">April</option>
              <option value="5">May</option>
              <option value="6">June</option>
              <option value="7">July</option>
              <option value="8">August</option>
              <option value="9">September</option>
              <option value="10">October</option>
              <option value="11">November</option>
              <option value="12">December</option>
            </select>
            <select name="dob_day" ng-model="info.dob.day" id="ac-dob-day">
              <option disabled="disabled" selected="selected" value="">Day</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
              <option value="13">13</option>
              <option value="14">14</option>
              <option value="15">15</option>
              <option value="16">16</option>
              <option value="17">17</option>
              <option value="18">18</option>
              <option value="19">19</option>
              <option value="20">20</option>
              <option value="21">21</option>
              <option value="22">22</option>
              <option value="23">23</option>
              <option value="24">24</option>
              <option value="25">25</option>
              <option value="26">26</option>
              <option value="27">27</option>
              <option value="28">28</option>
              <option value="29">29</option>
              <option value="30">30</option>
              <option value="31">31</option>
            </select>
            <select name="dob_year" ng-model="info.dob.year" id="ac-dob-year">
              <option disabled="disabled" selected="selected" value="">Year</option>
              <option value="2002">2002</option>
              <option value="2001">2001</option>
              <option value="2000">2000</option>
              <option value="1999">1999</option>
              <option value="1998">1998</option>
              <option value="1997">1997</option>
              <option value="1996">1996</option>
              <option value="1995">1995</option>
              <option value="1994">1994</option>
              <option value="1993">1993</option>
              <option value="1992">1992</option>
              <option value="1991">1991</option>
              <option value="1990">1990</option>
              <option value="1989">1989</option>
              <option value="1988">1988</option>
              <option value="1987">1987</option>
              <option value="1986">1986</option>
              <option value="1985">1985</option>
              <option value="1984">1984</option>
              <option value="1983">1983</option>
              <option value="1982">1982</option>
              <option value="1981">1981</option>
              <option value="1980">1980</option>
              <option value="1979">1979</option>
              <option value="1978">1978</option>
              <option value="1977">1977</option>
              <option value="1976">1976</option>
              <option value="1975">1975</option>
              <option value="1974">1974</option>
              <option value="1973">1973</option>
              <option value="1972">1972</option>
              <option value="1971">1971</option>
              <option value="1970">1970</option>
              <option value="1969">1969</option>
              <option value="1968">1968</option>
              <option value="1967">1967</option>
              <option value="1966">1966</option>
              <option value="1965">1965</option>
              <option value="1964">1964</option>
              <option value="1963">1963</option>
              <option value="1962">1962</option>
              <option value="1961">1961</option>
              <option value="1960">1960</option>
              <option value="1959">1959</option>
              <option value="1958">1958</option>
              <option value="1957">1957</option>
              <option value="1956">1956</option>
              <option value="1955">1955</option>
              <option value="1954">1954</option>
              <option value="1953">1953</option>
              <option value="1952">1952</option>
              <option value="1951">1951</option>
              <option value="1950">1950</option>
              <option value="1949">1949</option>
              <option value="1948">1948</option>
              <option value="1947">1947</option>
              <option value="1946">1946</option>
              <option value="1945">1945</option>
              <option value="1944">1944</option>
              <option value="1943">1943</option>
              <option value="1942">1942</option>
              <option value="1941">1941</option>
              <option value="1940">1940</option>
              <option value="1939">1939</option>
              <option value="1938">1938</option>
              <option value="1937">1937</option>
              <option value="1936">1936</option>
              <option value="1935">1935</option>
              <option value="1934">1934</option>
              <option value="1933">1933</option>
              <option value="1932">1932</option>
              <option value="1931">1931</option>
              <option value="1930">1930</option>
              <option value="1929">1929</option>
              <option value="1928">1928</option>
              <option value="1927">1927</option>
              <option value="1926">1926</option>
              <option value="1925">1925</option>
              <option value="1924">1924</option>
              <option value="1923">1923</option>
              <option value="1922">1922</option>
              <option value="1921">1921</option>
              <option value="1920">1920</option>
              <option value="1919">1919</option>
              <option value="1918">1918</option>
              <option value="1917">1917</option>
            </select>
            <div id="ac-accuracy" class="ac-hint"><i class="fa fa-exclamation-triangle"></i><span class="ac-strong">&nbsp;Note: </span><span>The information you submit must be accurate! If it isn't, we will be unable to verify your age.</span></div>
          </div>
          <div id="ac-not-met" style="display: none;">You do not meet the minimum age requirements.</div>
          <!--</form>-->
          <!--</form>-->
        </div>
        <div class="modal-body step-2" data-step="2">
          <div id="ac-step3" class="ac-step" style="display: block !important;">
              <div class="ac-h3">Photo ID Required</div>
              <div id="ac-id-icon"></div>
              <div class="ac-hint">You must submit a picture of your photo ID, such as your driver's license, with your name and date of birth clearly visible. Your name must match your billing information.</div>
              <div class="ac-hint">It will take about 30 seconds to verify your ID. Once verified you can skip this step for future purchases.</div>
              <div class="ac-hint">Your photo ID will be deleted from our system as soon as you are verified.</div>
              <div id="ac-next-photo" class="ac-button" style="display: block;"><span>Take Picture</span><i class="fa fa-chevron-right"></i></div>
              <div class="ac-hide-mobile">
                  <div class="ac-hint">Or,</div>
                  <input type="text" name="phone_number" placeholder="123-456-7890">
                  <!-- <div id="ac-next-phone1" class="ac-link-button" style="display: block;"><span class="ac-strong">Use your phone's camera</span><i class="fa fa-chevron-right"></i></div> -->
              </div>
          </div>
        </div>
        <div class="modal-body step-3" data-step="3">
          <div id="ac-step4" class="ac-step" style="display: block !important;">
            <div class="ac-h3">Photo ID Required</div>
            <div id="ac-id-icon"></div>
            <div class="ac-hint">You must submit a picture of your photo ID, such as your driver's license, with your name and date of birth clearly visible. Your name must match your billing information.</div>
            <div class="ac-hint">It will take about 30 seconds to verify your ID. Once verified you can skip this step for future purchases.</div>
            <div class="ac-hint">Your photo ID will be deleted from our system as soon as you are verified.</div>
            <div class="container">
              <div class="starter-template">
                <div class="row">
                  <div class="col-xs-12 col-sm-12 col-lg-12">
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-12 col-sm-12 col-lg-12">
                    <div id="container-webcam" style="display: none">
                      <div class="col-xs-6 col-sm-6 col-lg-6">
                        <video id="webcam" width="640px" height="480px" class="thumbnail" autoplay>
                        </video>
                        <strong>Webcam View</strong>&nbsp;<i id="help-icon" class="icon-info" rel="tooltip" title="Click webcam area to capture."></i>
                      </div>
                      <div class="col-xs-6 col-sm-6 col-lg-6">
                        <canvas id="selected-canvas" width="640px" height="480px" class="thumbnail">
                        </canvas>
                        <!--The blank canvas will store the captured image to keep the image resolution. -->
                        <canvas id="blank-canvas" width="640px" height="480px" style='display: none'></canvas>
                        <strong>Captured Image</strong>
                      </div>
                    </div>
                    <div id="container-camera">
                      <canvas id="hidden-canvas" style="display: none;"></canvas>
                      <div id="fileupload-container" class="fileupload fileupload-new" data-provides="fileupload">
                        <div class="fileupload-new thumbnail">
                          <img class="img-responsive" id="placehold-image" src="images/TapHere.gif" />
                        </div>
                        <div id="image-thumbnail" class="fileupload-preview fileupload-exists thumbnail">
                        </div>
                        <div>
                          <span class="btn btn-file btn-link btn-sm">
                                  <input id="input-image" type="file" capture="camera" name="driversLicenseImage" />
                              </span><a id="remove-button" href="#" class="btn btn-sm fileupload-exists" data-dismiss="fileupload" style="display: none">Remove</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-12 col-sm-12 col-lg-12">
                    <table style="margin-left: auto; margin-right: auto; text-align: left;">
                      <tr id="option-source">
                        <td>
                          Select Source
                        </td>
                        <td>
                          <input type="checkbox" id="chkImageSource" checked class="switch-large" data-label-icon="icon-fullscreen" data-on-label="<i class='icon-camera'></i>&nbsp;<i class='icon-hard-drive'></i>" data-off-label="<i class='icon-webcam'></i>">
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <medium>Select Region</medium>
                          &nbsp;
                        </td>
                        <td>
                          <select id="region-select" class="selectpicker" data-width="130px">
                            <option value="0">USA</option>
                            <option value="1">Canada</option>
                            <option value="3">Europe</option>
                            <option value="4">Australia</option>
                            <option value="2">South America</option>
                            <option value="5">Asia</option>
                            <option value="7">Africa</option>
                            <option value="6">General Docs</option>
                          </select>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <medium>Crop Image</medium>
                          &nbsp;
                        </td>
                        <td>
                          <input id="chkPreProcessing" type="checkbox" />
                        </td>
                      </tr>
                    </table>
                  </div>
                </div>
                <br />
                <div class="row">
                  <div id="div-controls" class="col-xs-12 col-sm-12 col-lg-12">
                    <button id="btn-process-image" type="button" class="btn btn-lg btn-primary" style="width: 120px;
                      height: 50px;">
                      Process</button>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-12">
                    <div id="loading">
                    </div>
                  </div>
                </div>
              </div>
              <div id="errorDiv" style="text-align: center; color: red;">
              </div>
              <div class="row">
                <div id="extractedData" class="col-xs-12 col-sm-12" style="display: none;">
                  <div class="panel panel-info">
                    <div class="panel-heading text-center">
                      <strong>Extracted Data</strong>
                    </div>
                    <div class="panel-body">
                      <div class="row">
                        <div class="col-xs-12 col-sm-12 col-lg-12">
                          <div id="drivers-license-data" class="form-horizontal">
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-xs-12 col-sm-12" id="faceImage" style="display: none;">
                  <div class="panel panel-info">
                    <div class="panel-heading text-center">
                      <strong>Face Image</strong></div>
                    <div class="panel-body text-center">
                      <img id="face-image" style="height: 180px; width: 140px;" class="img-responsive" src="" alt="FaceImage" />
                    </div>
                  </div>
                </div>
                <div class="col-xs-12 col-sm-12" id="signImage" style="display: none; margin: 0 auto !important;">
                  <div class="panel panel-info">
                    <div class="panel-heading text-center">
                      <strong>Signature Image</strong></div>
                    <div class="panel-body text-center">
                      <img id="signature-image" style="height: 50px; width: 200px;" class="img-responsive" src="" alt="SignatureImage" />
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Modal -->
            <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                      &times;</button>
                    <h4 class="modal-title">
                      Image Captured</h4>
                  </div>
                  <div class="modal-body">
                    <canvas id="captured-canvas" class="img-responsive">
                    </canvas>
                  </div>
                  <div class="modal-footer">
                    <button id="btn-retake" class="btn btn-default" data-dismiss="modal">
                      Retake</button>
                    <button id="btn-use-image" type="button" class="btn btn-primary">
                      Use Image</button>
                  </div>
                </div>
              </div>
            </div>
            <!-- /.modal -->
          </div>
        </div>
        <div class="modal-body step-4" data-step="4">
          <div id="ac-step8" class="ac-step" style="display: block !important;">
            <div class="ac-h3">Complete!</div>
            <div class="ac-p">You may now proceed with your order.</div>
            <div class="ac-hint">Your age was successfully verified, thank you for your patience.</div><i class="fa fa-check large-icon"></i></div>
        </div>
        <div class="modal-body step-5" data-step="5">
          <div id="ac-step12" class="ac-step" style="display: block !important;">
            <div class="ac-h3">Error!</div>
            <div class="ac-p">We could not verify your identity.</div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary step step-1" data-step="1" ng-click="verifyUserAge(info)" onclick="sendEvent('#demo-modal-3', 1)">Continue</button>
          <button type="button" class="btn btn-primary step step-2" data-step="2" onclick="sendEvent('#demo-modal-3', 1)" style="display: none;">Back</button>
          <button type="button" class="btn btn-primary step step-2" data-step="2" onclick="sendEvent('#demo-modal-3', 3)" style="display: none;">Continue</button>
          <button type="button" class="btn btn-primary step step-3" data-step="3" onclick="sendEvent('#demo-modal-3', 3)" style="display: none;">Continue</button>
          <button type="button" class="btn btn-primary step step-4" data-step="4" onclick="sendEvent('#demo-modal-3', 4)" style="display: none;">Continue</button>
        </div>
      </div>
    </div>
  </form>
  <script>
  function objectifyForm(formArray) {//serialize data function
    var returnArray = {};
    for (var i = 0; i < formArray.length; i++){
      returnArray[formArray[i]['name']] = formArray[i]['value'];
    }
    return returnArray;
  }
  function doneVerifying(data) {
    // delete data.FaceImage
    var _data = {
      NameLast: data.NameLast,
      DateOfBirth4: data.DateOfBirth4
    }
    $.post({
      url: '/api/verify2',
      data: _data,
      dataType: 'json',
      success: function(res) {
        console.log(res, 'res from server');
        if (res.status === 'not_found')
          $('#demo-modal-3').trigger('next.m.5'); //
        else
          if (res.status === 'found' && res.age === 'over')
            $('#demo-modal-3').trigger('next.m.2');
          else
            $('#demo-modal-3').trigger('next.m.5'); //
      }
    })
  }
  function sendLink() {
    var phoneNumber = $('#twilio_number').val();

  }
  sendEvent = function(sel, step) {
    var dobData = objectifyForm($( "form" ).serializeArray())
    console.log(dobData);
    $.post({
      url: '/api/verify',
      data: dobData,
      dataType: 'json',
      success: function(res) {
        console.log(res, 'res from server');
        if (res.status === 'not_found')
          $(sel).trigger('next.m.2');
        else
          $(sel).trigger('next.m.4');
      }
    })
  }
  </script>
